-- patients table

create table PATIENT (
  ID bigint generated by default as identity
  (start with 1, increment by 1) not null primary key,
  FIRST_NAME nvarchar(25) not null,
  LAST_NAME nvarchar(25) not null,
  MIDDLE_NAME nvarchar(25),
  PHONE_NUMBER nvarchar(11)
);

-- doctors table

create table DOCTOR (
  ID bigint generated by default as identity
  (start with 1, increment by 1) not null primary key,
  FIRST_NAME nvarchar(25) not null,
  LAST_NAME nvarchar(25) not null,
  MIDDLE_NAME nvarchar(25),
  SPECIALIZATION nvarchar(40) not null
);

-- prescriptions table

create table PRESCRIPTION (
  ID bigint generated by default as identity
  (start with 1, increment by 1) not null primary key,
  DESCRIPTION nvarchar(200) not null,
  PATIENT_ID bigint not null,
  DOCTOR_ID bigint not null,
  CREATE_DATE date,
  EXPIRATION int,
  PRIORITY nvarchar(32),

  constraint FK_PATIENT_PRESCRIPTION foreign key (PATIENT_ID) references PATIENT(ID) on delete restrict,
  constraint FK_DOCTOR_PRESCRIPTION foreign key (DOCTOR_ID) references DOCTOR(ID) on delete restrict
);



-- patients data

insert into PATIENT (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, PHONE_NUMBER)
values (1,'Сергей', 'Востокин', 'Владимирович', '32165498765');

insert into PATIENT (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, PHONE_NUMBER)
values (2,'Сергей', 'Комаров', 'Владимирович', '88005553535');

insert into PATIENT (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, PHONE_NUMBER)
values (3,'Артём', 'Мусаликин', 'Сергеевич', '78945612378');

insert into PATIENT (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, PHONE_NUMBER)
values (4,'Елизавета', 'Борисова', 'Викторовна', '11111111111');

insert into PATIENT (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, PHONE_NUMBER)
values (5,'Андрей', 'Козырев', 'Александрович', '32165498756');


-- doctors data

insert into DOCTOR (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, SPECIALIZATION)
values (1, 'Роман', 'Арсланов', 'Иванович', 'Оталаринголог');

insert into DOCTOR (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, SPECIALIZATION)
values (2, 'Борис', 'Швыдко', 'Михайлович', 'Гастроэнтеролог');

insert into DOCTOR (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, SPECIALIZATION)
values (3, 'Роман', 'Арсланов', 'Сергеевич', 'Терапевт');

insert into DOCTOR (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, SPECIALIZATION)
values (4, 'Роман', 'Арсланов', 'Владимирович', 'Терапевт');

insert into DOCTOR (ID, FIRST_NAME, LAST_NAME, MIDDLE_NAME, SPECIALIZATION)
values (5, 'Иван', 'Иванов', 'Иванович', 'Хирург');


-- prescriptions data

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (1, 'Средство от насморка', 1, 1, '2018-10-11', 10, 'Нормальный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (2, 'Больше физических нагрузок', 1, 3, '2018-10-12', 5, 'Срочный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (3, 'Нормально кушать', 2, 2, '2018-10-10', 7, 'Нормальный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (4, 'Плоскостопие лечить', 3, 5, '2018-10-10', 4, 'Срочный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (5, 'Плоскостопие лечить', 4, 5, '2018-10-13', 2, 'Немедленный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (6, 'Прочистить ушки', 5, 1, '2018-10-19', 12, 'Нормальный');

insert into PRESCRIPTION (ID, DESCRIPTION, PATIENT_ID, DOCTOR_ID, CREATE_DATE, EXPIRATION, PRIORITY)
values (7, 'Операция на кишечнике', 5, 5, '2018-09-10', 1, 'Немедленный');
